function Auth(){this.maskwrapper=$(".mask-wrapper")}$(function(){$("#btn").click(function(){$(".mask-wrapper").show()}),$(".close-btn").click(function(){$(".mask-wrapper").hide()}),$(".auth-box").hover(function(){$(".user-more-boxs").show()},function(){$(".user-more-boxs").hide()})}),$(function(){$(".switch").click(function(){var o=$(".scroll-wrapper"),n=o.css("left");(n=parseInt(n))<0?o.animate({left:"0"}):o.animate({left:"-400px"})})}),Auth.prototype.run=function(){var o=this;o.listen(),o.listenlogin(),o.listenimg(),o.listenclick(),o.signup(),o.listenAuthBoxHover()},Auth.prototype.showEvent=function(){this.maskwrapper.show()},Auth.prototype.hideEvent=function(){this.maskwrapper.hide()},Auth.prototype.listenAuthBoxHover=function(){var o=$(".auth-box"),n=$(".user-more-box");o.click=function(){},o.hover(function(){n.show()},function(){n.hide()})},Auth.prototype.listen=function(){var o=this,n=$(".signin-btn"),t=$(".signup-btn"),e=$(".close-btn"),s=$(".scroll-wrapper");n.click(function(){o.showEvent(),s.css({left:0})}),t.click(function(){o.showEvent(),s.css({left:-400})}),e.click(function(){o.hideEvent()})},Auth.prototype.listenlogin=function(){var o=$(".signin-group"),e=o.find("input[name='telephone']"),s=o.find("input[name='password']"),i=o.find("input[name='remember']");o.find(".submit-btn").click(function(){var o=e.val(),n=s.val(),t=i.prop("checked");xfzajax.post({url:"/account/login/",data:{telephone:o,password:n,remember:t?1:0},success:function(o){console.log(o),200===o.code?(console.log("sucsess"),window.messageBox.show("登录成功！！"),window.location.reload()):(meg=o.message,window.messageBox.show(message))},fail:function(o){console.log(o)}})})},$(function(){(new Auth).run()}),Auth.prototype.listenimg=function(){var o=$(".imgcapture");o.click(function(){o.attr("src","/account/img_capture/?random="+Math.random())})},Auth.prototype.reclick=function(){var o=this,n=$(".sms-captcha-btn");messageBox.showInfo("短信发送成功！"),n.addClass("disabled");var t=5;n.unbind("click");var e=setInterval(function(){n.text(t+"s"),(t-=1)<=0&&(clearInterval(e),n.removeClass("disabled"),n.text("发送验证码"),o.listenclick())},1e3)},Auth.prototype.listenclick=function(){var n=this,o=$(".sms-captcha-btn"),t=$('.signup-group input[name="telephone"]');o.click(function(){var o=t.val();o?console.log(o):messageBox.showInfo("请输入手机号码"),xfzajax.get({url:"/account/send_phone/",data:{telephone:o},success:function(o){200===o.code&&n.reclick()},fail:function(o){console.log(o)}})})},Auth.prototype.signup=function(){$(".submit-btn").click(function(){var o=$(".tlp"),n=$(".names"),t=$(".pwd1"),e=$(".pwd2"),s=$(".dxyzm"),i=$(".imgyzm"),c=o.val(),a=n.val(),l=t.val(),r=e.val(),u=s.val(),p=i.val();console.log(c),console.log(a),console.log(l),console.log(r),console.log(u),console.log(p),c?a?l!==r?window.messageBox.showInfo("两次密码不一致！"):xfzajax.post({url:"/account/register/",data:{telephone:c,username:a,password1:l,password2:r,img_captcha:p,sms_captcha:u},success:function(o){200===o.code&&(messageBox.showInfo("账户注册成功，请重新登录！"),window.setTimeout(5),window.location.reload())},fail:function(o){console.log(o)}}):window.messageBox.showInfo("请输入用户名！"):window.messageBox.showInfo("请输入手机号码！！")})},Auth.prototype.lshover=function(){$(".user-more-boxs")};
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImF1dGguanMiXSwibmFtZXMiOlsiQXV0aCIsInRoaXMiLCJtYXNrd3JhcHBlciIsIiQiLCJjbGljayIsInNob3ciLCJoaWRlIiwiaG92ZXIiLCJzY3JvbGxXcmFwcGVyIiwiY3VycmVudExlZnQiLCJjc3MiLCJwYXJzZUludCIsImFuaW1hdGUiLCJsZWZ0IiwicHJvdG90eXBlIiwicnVuIiwic2VsZiIsImxpc3RlbiIsImxpc3RlbmxvZ2luIiwibGlzdGVuaW1nIiwibGlzdGVuY2xpY2siLCJzaWdudXAiLCJsaXN0ZW5BdXRoQm94SG92ZXIiLCJzaG93RXZlbnQiLCJoaWRlRXZlbnQiLCJhdXRoQm94IiwidXNlck1vcmVCb3giLCJsb2dpbmJ0biIsImxvZ3VwYnRuIiwiY2xvc2VidG4iLCJzY3JvbGx3cmFwcGVyIiwic2lnbmluZ3JvdXAiLCJ0ZWxlcGhvbmUiLCJmaW5kIiwicGFzc3dvcmQiLCJyZW1lbWJlciIsInRlbCIsInZhbCIsInBhcyIsInJlbSIsInByb3AiLCJ4ZnphamF4IiwicG9zdCIsInVybCIsImRhdGEiLCJzdWNjZXNzIiwicmVzdWx0IiwiY29uc29sZSIsImxvZyIsIndpbmRvdyIsIm1lc3NhZ2VCb3giLCJsb2NhdGlvbiIsInJlbG9hZCIsIm1lZyIsIm1lc3NhZ2UiLCJmYWlsIiwiZXJyb3IiLCJpbWdjYXB0dXJlIiwiYXR0ciIsIk1hdGgiLCJyYW5kb20iLCJyZWNsaWNrIiwicGhvbmVjbGljayIsInNob3dJbmZvIiwiYWRkQ2xhc3MiLCJjb3VudCIsInVuYmluZCIsInRpbWVyIiwic2V0SW50ZXJ2YWwiLCJ0ZXh0IiwiY2xlYXJJbnRlcnZhbCIsInJlbW92ZUNsYXNzIiwidGxwIiwiZ2V0IiwidGxwcyIsIm5hbWVzIiwicHN3ZDFzIiwicHN3ZDJzIiwiY2FwY2hhcyIsImltZ19jYXBjaGFzIiwibmFtZSIsInBzd2QxIiwicHN3ZDIiLCJjYXBjaGEiLCJpbWdfY2FwY2hhIiwidXNlcm5hbWUiLCJwYXNzd29yZDEiLCJwYXNzd29yZDIi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RUFDUmpDLE9BQU9DLFdBQVdhLFNBQVMsWUFFM0J0QixRQUFRQyxLQUFLLENBQ1hDLElBQU0scUJBQ0RDLEtBQUssQ0FDRFosVUFBWXdDLEVBQ1phLFNBQVdMLEVBQ1ZNLFVBQVlMLEVBQ1pNLFVBQVlMLEVBQ2JNLFlBQWNKLEVBQ2RLLFlBQWNOLEdBRXBCdEMsUUFBVSxTQUFVQyxHQUNJLE1BQWpCQSxFQUFhLE9BQ2JJLFdBQVdhLFNBQVMsaUJBQ3BCZCxPQUFPeUMsV0FBVyxHQUNsQnpDLE9BQU9FLFNBQVNDLFdBSWhCRyxLQUFPLFNBQVVDLEdBQ2JULFFBQVFDLElBQUlRLE1BeEJqQ1AsT0FBT0MsV0FBV2EsU0FBUyxXQUgvQmQsT0FBT0MsV0FBV2EsU0FBUyxnQkF1QzNDL0QsS0FBS2MsVUFBVTZFLFFBQVMsV0FDVnhGLEVBQUUiLCJmaWxlIjoiYXV0aC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJcclxuLy8gLy8g54K55Ye755m75b2V5oyJ6ZKu77yM5by55Ye65qih5oCB5a+56K+d5qGGXHJcbiQoZnVuY3Rpb24gKCkge1xyXG4gICAgJChcIiNidG5cIikuY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICQoXCIubWFzay13cmFwcGVyXCIpLnNob3coKTtcclxuICAgIH0pO1xyXG5cclxuICAgICQoXCIuY2xvc2UtYnRuXCIpLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAkKFwiLm1hc2std3JhcHBlclwiKS5oaWRlKCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAkKFwiLmF1dGgtYm94XCIpLmhvdmVyKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAkKFwiLnVzZXItbW9yZS1ib3hzXCIpLnNob3coKVxyXG4gICAgfSxmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAkKFwiLnVzZXItbW9yZS1ib3hzXCIpLmhpZGUoKVxyXG4gICAgfSk7XHJcblxyXG59KTtcclxuXHJcblxyXG4kKGZ1bmN0aW9uICgpIHtcclxuICAgICQoXCIuc3dpdGNoXCIpLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgc2Nyb2xsV3JhcHBlciA9ICQoXCIuc2Nyb2xsLXdyYXBwZXJcIik7XHJcbiAgICAgICAgdmFyIGN1cnJlbnRMZWZ0ID0gc2Nyb2xsV3JhcHBlci5jc3MoXCJsZWZ0XCIpO1xyXG4gICAgICAgIGN1cnJlbnRMZWZ0ID0gcGFyc2VJbnQoY3VycmVudExlZnQpO1xyXG4gICAgICAgIGlmKGN1cnJlbnRMZWZ0IDwgMCl7XHJcbiAgICAgICAgICAgIHNjcm9sbFdyYXBwZXIuYW5pbWF0ZSh7XCJsZWZ0XCI6JzAnfSk7XHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHNjcm9sbFdyYXBwZXIuYW5pbWF0ZSh7XCJsZWZ0XCI6XCItNDAwcHhcIn0pO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59KTtcclxuXHJcblxyXG5mdW5jdGlvbiBBdXRoKCkge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgc2VsZi5tYXNrd3JhcHBlciA9ICQoJy5tYXNrLXdyYXBwZXInKTtcclxufVxyXG5cclxuQXV0aC5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgc2VsZi5saXN0ZW4oKTtcclxuICAgIHNlbGYubGlzdGVubG9naW4oKTtcclxuICAgIHNlbGYubGlzdGVuaW1nKCk7XHJcbiAgICBzZWxmLmxpc3RlbmNsaWNrKCk7XHJcbiAgICBzZWxmLnNpZ251cCgpO1xyXG4gICAgc2VsZi5saXN0ZW5BdXRoQm94SG92ZXIoKTtcclxuXHJcbn07XHJcbkF1dGgucHJvdG90eXBlLnNob3dFdmVudCA9IGZ1bmN0aW9uKCl7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICBzZWxmLm1hc2t3cmFwcGVyLnNob3coKTtcclxufTtcclxuXHJcbkF1dGgucHJvdG90eXBlLmhpZGVFdmVudCA9IGZ1bmN0aW9uKCl7XHJcbiAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gIHNlbGYubWFza3dyYXBwZXIuaGlkZSgpO1xyXG59O1xyXG5cclxuXHJcbkF1dGgucHJvdG90eXBlLmxpc3RlbkF1dGhCb3hIb3ZlciA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBhdXRoQm94ID0gJChcIi5hdXRoLWJveFwiKTtcclxuICAgIHZhciB1c2VyTW9yZUJveCA9ICQoXCIudXNlci1tb3JlLWJveFwiKTtcclxuICAgICAgIGF1dGhCb3guY2xpY2sgPWZ1bmN0aW9uKCl7XHJcbiAgICB9O1xyXG4gICAgYXV0aEJveC5ob3ZlcihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdXNlck1vcmVCb3guc2hvdygpO1xyXG4gICAgfSxmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdXNlck1vcmVCb3guaGlkZSgpO1xyXG4gICAgfSk7XHJcbn07XHJcbkF1dGgucHJvdG90eXBlLmxpc3RlbiA9IGZ1bmN0aW9uKCl7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICB2YXIgbG9naW5idG4gPSAkKCcuc2lnbmluLWJ0bicpO1xyXG4gICAgdmFyIGxvZ3VwYnRuID0gJCgnLnNpZ251cC1idG4nKTtcclxuICAgIHZhciBjbG9zZWJ0biA9ICQoJy5jbG9zZS1idG4nKTtcclxuICAgIHZhciBzY3JvbGx3cmFwcGVyID0gJCgnLnNjcm9sbC13cmFwcGVyJyk7XHJcblxyXG4gICAgbG9naW5idG4uY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHNlbGYuc2hvd0V2ZW50KCk7XHJcbiAgICAgICAgc2Nyb2xsd3JhcHBlci5jc3Moe1wibGVmdFwiOjB9KVxyXG4gICAgfSlcclxuICAgICBsb2d1cGJ0bi5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgc2VsZi5zaG93RXZlbnQoKTtcclxuICAgICAgICAgc2Nyb2xsd3JhcHBlci5jc3Moe1wibGVmdFwiOi00MDB9KVxyXG4gICAgfSlcclxuICAgIGNsb3NlYnRuLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBzZWxmLmhpZGVFdmVudCgpO1xyXG4gICAgfSlcclxufTtcclxuXHJcbkF1dGgucHJvdG90eXBlLmxpc3RlbmxvZ2luID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIHNpZ25pbmdyb3VwID0gJCgnLnNpZ25pbi1ncm91cCcpO1xyXG4gICAgdmFyIHRlbGVwaG9uZSA9IHNpZ25pbmdyb3VwLmZpbmQoXCJpbnB1dFtuYW1lPSd0ZWxlcGhvbmUnXVwiKTtcclxuICAgIHZhciBwYXNzd29yZCA9IHNpZ25pbmdyb3VwLmZpbmQoXCJpbnB1dFtuYW1lPSdwYXNzd29yZCddXCIpO1xyXG4gICAgdmFyIHJlbWVtYmVyID0gc2lnbmluZ3JvdXAuZmluZChcImlucHV0W25hbWU9J3JlbWVtYmVyJ11cIik7XHJcblxyXG4gICAgdmFyIHN1Ym1pdGJ0bSA9IHNpZ25pbmdyb3VwLmZpbmQoXCIuc3VibWl0LWJ0blwiKTtcclxuICAgIHN1Ym1pdGJ0bS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIHRlbCA9IHRlbGVwaG9uZS52YWwoKTtcclxuICAgICAgICB2YXIgcGFzID0gcGFzc3dvcmQudmFsKCk7XHJcbiAgICAgICAgdmFyIHJlbSA9IHJlbWVtYmVyLnByb3AoXCJjaGVja2VkXCIpO1xyXG5cclxuICAgICAgICB4ZnphamF4LnBvc3Qoe1xyXG4gICAgICAgICAgICAndXJsJzonL2FjY291bnQvbG9naW4vJyxcclxuICAgICAgICAgICAgJ2RhdGEnOntcclxuICAgICAgICAgICAgICAgICd0ZWxlcGhvbmUnOnRlbCxcclxuICAgICAgICAgICAgICAgICdwYXNzd29yZCc6cGFzLFxyXG4gICAgICAgICAgICAgICAgJ3JlbWVtYmVyJzpyZW0/MTowLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAnc3VjY2Vzcyc6ZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzdWx0KTtcclxuICAgICAgICAgICAgICAgIGlmIChyZXN1bHRbXCJjb2RlXCJdPT09MjAwKXtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnc3Vjc2VzcycpO1xyXG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5tZXNzYWdlQm94LnNob3coXCLnmbvlvZXmiJDlip/vvIHvvIFcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpO1xyXG5cclxuICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgIG1lZyA9IHJlc3VsdFtcIm1lc3NhZ2VcIl07XHJcbiAgICAgICAgICAgICAgICAgICAgd2luZG93Lm1lc3NhZ2VCb3guc2hvdyhtZXNzYWdlKVxyXG5cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgJ2ZhaWwnOmZ1bmN0aW9uIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgfSlcclxuXHJcbn07XHJcblxyXG4kKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBhdXRoID0gbmV3ICBBdXRoKCk7XHJcbiAgICBhdXRoLnJ1bigpO1xyXG59KTtcclxuXHJcbkF1dGgucHJvdG90eXBlLmxpc3RlbmltZyA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBpbWdjYXB0dXJlID0gJCgnLmltZ2NhcHR1cmUnKTtcclxuICAgIGltZ2NhcHR1cmUuY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGltZ2NhcHR1cmUuYXR0cihcInNyY1wiLFwiL2FjY291bnQvaW1nX2NhcHR1cmUvXCIrXCI/cmFuZG9tPVwiK01hdGgucmFuZG9tKCkpXHJcbiAgICB9KVxyXG5cclxufTtcclxuLy9cclxuLy8gQXV0aC5wcm90b3R5cGUucmVwaG9uZSA9IGZ1bmN0aW9uKCl7XHJcbi8vICAgICAgdmFyIHBob25lY2xpY2sgPSAkKCcuc21zLWNhcHRjaGEtYnRuJyk7XHJcbi8vICAgICB2YXIgdGxwID0gJCgnLnNpZ251cC1ncm91cCBpbnB1dFtuYW1lPVwidGVsZXBob25lXCJdJyk7XHJcbi8vICAgICAgICAgcGhvbmVjbGljay5jbGljayhmdW5jdGlvbiAoKSB7XHJcbi8vICAgICAgICAgdmFyIHRlbGVwaG9uZSA9IHRscC52YWwoKTtcclxuLy8gICAgICAgICBpZighdGVsZXBob25lKXtcclxuLy8gICAgICAgICAgICAgbWVzc2FnZUJveC5zaG93SW5mbygn6K+36L6T5YWl5omL5py65Y+356CBJyk7XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgICAgIHhmemFqYXguZ2V0KHtcclxuLy8gICAgICAgICAgICAgJ3VybCc6Jy9hY2NvdW50L3NlbmRfcGhvbmUvJyxcclxuLy8gICAgICAgICAgICAgZGF0YTp7XHJcbi8vICAgICAgICAgICAgICAgICAndGVsZXBob25lJzp0ZWxlcGhvbmVcclxuLy8gICAgICAgICAgICAgfSxcclxuLy8gICAgICAgICAgICAgJ3N1Y2Nlc3MnOmZ1bmN0aW9uIChyZXN1bHQpIHtcclxuLy8gICAgICAgICAgICAgICAgIGlmIChyZXN1bHRbXCJjb2RlXCJdPT09MjAwKXtcclxuLy8gICAgICAgICAgICAgICAgICAgICBtZXNzYWdlQm94LnNob3dJbmZvKCfnn63kv6Hlj5HpgIHmiJDlip/vvIEnKTtcclxuLy8gICAgICAgICAgICAgICAgICAgICBwaG9uZWNsaWNrLmFkZENsYXNzKCdkaXNhYmxlZCcpO1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIHZhciBjb3VudCA9IDU7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgcGhvbmVjbGljay51bmJpbmQoJ2NsaWNrJyk7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgdmFyIHRpbWVyID1zZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIHBob25lY2xpY2sudGV4dChjb3VudCsncycpO1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICBjb3VudC09MTtcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgaWYoY291bnQ8PTApe1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aW1lcik7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwaG9uZWNsaWNrLnJlbW92ZUNsYXNzKCdkaXNhYmxlZCcpO1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGhvbmVjbGljay50ZXh0KCflj5HpgIHpqozor4HnoIEnKTtcclxuLy9cclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICAgICAgICAgIH0sMTAwMClcclxuLy8gICAgICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgfSxcclxuLy8gICAgICAgICAgICAgJ2ZhaWwnOmZ1bmN0aW9uIChlcnJvcikge1xyXG4vLyAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpXHJcbi8vICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICB9KVxyXG4vLyAgICAgfSlcclxuLy8gfTtcclxuXHJcbkF1dGgucHJvdG90eXBlLnJlY2xpY2sgPSBmdW5jdGlvbigpe1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgIHZhciBwaG9uZWNsaWNrID0gJCgnLnNtcy1jYXB0Y2hhLWJ0bicpO1xyXG4gICAgICAgIG1lc3NhZ2VCb3guc2hvd0luZm8oJ+efreS/oeWPkemAgeaIkOWKn++8gScpO1xyXG4gICAgICAgICAgICAgICAgICAgIHBob25lY2xpY2suYWRkQ2xhc3MoJ2Rpc2FibGVkJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNvdW50ID0gNTtcclxuICAgICAgICAgICAgICAgICAgICBwaG9uZWNsaWNrLnVuYmluZCgnY2xpY2snKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdGltZXIgPXNldEludGVydmFsKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGhvbmVjbGljay50ZXh0KGNvdW50KydzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvdW50LT0xO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZihjb3VudDw9MCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKHRpbWVyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBob25lY2xpY2sucmVtb3ZlQ2xhc3MoJ2Rpc2FibGVkJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwaG9uZWNsaWNrLnRleHQoJ+WPkemAgemqjOivgeeggScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5saXN0ZW5jbGljaygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSwxMDAwKVxyXG59XHJcblxyXG5BdXRoLnByb3RvdHlwZS5saXN0ZW5jbGljayA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIHZhciBwaG9uZWNsaWNrID0gJCgnLnNtcy1jYXB0Y2hhLWJ0bicpO1xyXG4gICAgdmFyIHRscCA9ICQoJy5zaWdudXAtZ3JvdXAgaW5wdXRbbmFtZT1cInRlbGVwaG9uZVwiXScpO1xyXG4gICAgICAgIHBob25lY2xpY2suY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciB0ZWxlcGhvbmUgPSB0bHAudmFsKCk7XHJcbiAgICAgICAgaWYoIXRlbGVwaG9uZSl7XHJcbiAgICAgICAgICAgIG1lc3NhZ2VCb3guc2hvd0luZm8oJ+ivt+i+k+WFpeaJi+acuuWPt+eggScpO1xyXG4gICAgICAgIH1lbHNlIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2codGVsZXBob25lKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgeGZ6YWpheC5nZXQoe1xyXG4gICAgICAgICAgICAndXJsJzonL2FjY291bnQvc2VuZF9waG9uZS8nLFxyXG4gICAgICAgICAgICBkYXRhOntcclxuICAgICAgICAgICAgICAgICd0ZWxlcGhvbmUnOnRlbGVwaG9uZVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAnc3VjY2Vzcyc6ZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdFtcImNvZGVcIl09PT0yMDApe1xyXG4gICAgICAgICAgICAgICAgICAgIHNlbGYucmVjbGljaygpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAnZmFpbCc6ZnVuY3Rpb24gKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcilcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICB9KVxyXG59O1xyXG5cclxuQXV0aC5wcm90b3R5cGUuc2lnbnVwID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBzdWIgPSAkKCcuc3VibWl0LWJ0bicpO1xyXG4gICAgICAgIHN1Yi5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciB0bHBzID0gJCgnLnRscCcpO1xyXG4gICAgICAgICAgICB2YXIgbmFtZXMgPSAkKCcubmFtZXMnKTtcclxuICAgICAgICAgICAgdmFyIHBzd2QxcyA9ICAkKCcucHdkMScpO1xyXG4gICAgICAgICAgICB2YXIgcHN3ZDJzID0gICQoJy5wd2QyJyk7XHJcbiAgICAgICAgICAgIHZhciBjYXBjaGFzID0gICQoJy5keHl6bScpO1xyXG4gICAgICAgICAgICB2YXIgaW1nX2NhcGNoYXM9ICAkKCcuaW1neXptJyk7XHJcbiAgICAgICAgICAgIHZhciB0bHAgPSB0bHBzLnZhbCgpO1xyXG4gICAgICAgICAgICB2YXIgbmFtZSA9IG5hbWVzLnZhbCgpO1xyXG4gICAgICAgICAgICB2YXIgcHN3ZDEgPSBwc3dkMXMudmFsKCk7XHJcbiAgICAgICAgICAgIHZhciBwc3dkMiA9IHBzd2Qycy52YWwoKTtcclxuICAgICAgICAgICAgdmFyIGNhcGNoYSA9IGNhcGNoYXMudmFsKCk7XHJcbiAgICAgICAgICAgIHZhciBpbWdfY2FwY2hhID0gaW1nX2NhcGNoYXMudmFsKCk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHRscCk7XHJcbiAgICAgICAgICAgICBjb25zb2xlLmxvZyhuYW1lKTtcclxuICAgICAgICAgICAgICBjb25zb2xlLmxvZyhwc3dkMSk7XHJcbiAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHBzd2QyKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGNhcGNoYSk7XHJcbiAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coaW1nX2NhcGNoYSk7XHJcbiAgICAgICAgICAgIGlmKCF0bHApe1xyXG4gICAgICAgICAgICAgICAgd2luZG93Lm1lc3NhZ2VCb3guc2hvd0luZm8oJ+ivt+i+k+WFpeaJi+acuuWPt+egge+8ge+8gScpXHJcbiAgICAgICAgICAgIH1lbHNlIHtcclxuICAgICAgICAgICAgICAgIGlmKCFuYW1lKXtcclxuICAgICAgICAgICAgICAgICAgICB3aW5kb3cubWVzc2FnZUJveC5zaG93SW5mbygn6K+36L6T5YWl55So5oi35ZCN77yBJylcclxuICAgICAgICAgICAgICAgIH1lbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBpZihwc3dkMSAhPT0gcHN3ZDIpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93Lm1lc3NhZ2VCb3guc2hvd0luZm8oJ+S4pOasoeWvhueggeS4jeS4gOiHtO+8gScpXHJcbiAgICAgICAgICAgICAgICAgICAgfWVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgeGZ6YWpheC5wb3N0KHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3VybCc6Jy9hY2NvdW50L3JlZ2lzdGVyLycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTp7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICd0ZWxlcGhvbmUnOnRscCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3VzZXJuYW1lJzpuYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3Bhc3N3b3JkMSc6cHN3ZDEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAncGFzc3dvcmQyJzpwc3dkMixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2ltZ19jYXB0Y2hhJzppbWdfY2FwY2hhLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnc21zX2NhcHRjaGEnOmNhcGNoYSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3N1Y2Nlc3MnOmZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdFtcImNvZGVcIl09PT0yMDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VCb3guc2hvd0luZm8oJ+i0puaIt+azqOWGjOaIkOWKn++8jOivt+mHjeaWsOeZu+W9le+8gScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LnNldFRpbWVvdXQoNSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnZmFpbCc6ZnVuY3Rpb24gKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgKVxyXG59O1xyXG5cclxuXHJcbkF1dGgucHJvdG90eXBlLmxzaG92ZXI9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBidG4gPSAkKCcudXNlci1tb3JlLWJveHMnKVxyXG5cclxuXHJcbn07XHJcbi8vXHJcbi8vIGZ1bmN0aW9uIEF1dGgoKSB7XHJcbi8vICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbi8vICAgICBzZWxmLm1hc2tXcmFwcGVyID0gJCgnLm1hc2std3JhcHBlcicpO1xyXG4vLyAgICAgc2VsZi5zY3JvbGxXcmFwcGVyID0gJChcIi5zY3JvbGwtd3JhcHBlclwiKTtcclxuLy8gfVxyXG4vL1xyXG4vLyBBdXRoLnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbiAoKSB7XHJcbi8vICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbi8vICAgICBzZWxmLmxpc3RlblNob3dIaWRlRXZlbnQoKTtcclxuLy8gICAgIHNlbGYubGlzdGVuU3dpdGNoRXZlbnQoKTtcclxuLy8gICAgIHNlbGYubGlzdGVuU2lnbmluRXZlbnQoKTtcclxuLy8gfTtcclxuLy9cclxuLy8gQXV0aC5wcm90b3R5cGUuc2hvd0V2ZW50ID0gZnVuY3Rpb24gKCkge1xyXG4vLyAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4vLyAgICAgc2VsZi5tYXNrV3JhcHBlci5zaG93KCk7XHJcbi8vIH07XHJcbi8vXHJcbi8vIEF1dGgucHJvdG90eXBlLmhpZGVFdmVudCA9IGZ1bmN0aW9uICgpIHtcclxuLy8gICAgIHZhciBzZWxmID0gdGhpcztcclxuLy8gICAgIHNlbGYubWFza1dyYXBwZXIuaGlkZSgpO1xyXG4vLyB9O1xyXG4vL1xyXG4vLyBBdXRoLnByb3RvdHlwZS5saXN0ZW5TaG93SGlkZUV2ZW50ID0gZnVuY3Rpb24gKCkge1xyXG4vLyAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4vLyAgICAgdmFyIHNpZ25pbkJ0biA9ICQoJy5zaWduaW4tYnRuJyk7XHJcbi8vICAgICB2YXIgc2lnbnVwQnRuID0gJCgnLnNpZ251cC1idG4nKTtcclxuLy8gICAgIHZhciBjbG9zZUJ0biA9ICQoJy5jbG9zZS1idG4nKTtcclxuLy9cclxuLy8gICAgIHNpZ25pbkJ0bi5jbGljayhmdW5jdGlvbiAoKSB7XHJcbi8vICAgICAgICAgc2VsZi5zaG93RXZlbnQoKTtcclxuLy8gICAgICAgICBzZWxmLnNjcm9sbFdyYXBwZXIuY3NzKHtcImxlZnRcIjowfSk7XHJcbi8vICAgICB9KTtcclxuLy9cclxuLy8gICAgIHNpZ251cEJ0bi5jbGljayhmdW5jdGlvbiAoKSB7XHJcbi8vICAgICAgICAgc2VsZi5zaG93RXZlbnQoKTtcclxuLy8gICAgICAgICBzZWxmLnNjcm9sbFdyYXBwZXIuY3NzKHtcImxlZnRcIjotNDAwfSk7XHJcbi8vICAgICB9KTtcclxuLy9cclxuLy8gICAgIGNsb3NlQnRuLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuLy8gICAgICAgICBzZWxmLmhpZGVFdmVudCgpO1xyXG4vLyAgICAgfSk7XHJcbi8vIH07XHJcbi8vXHJcbi8vIEF1dGgucHJvdG90eXBlLmxpc3RlblN3aXRjaEV2ZW50ID0gZnVuY3Rpb24gKCkge1xyXG4vLyAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4vLyAgICAgdmFyIHN3aXRjaGVyID0gJChcIi5zd2l0Y2hcIik7XHJcbi8vICAgICBzd2l0Y2hlci5jbGljayhmdW5jdGlvbiAoKSB7XHJcbi8vICAgICAgICAgdmFyIGN1cnJlbnRMZWZ0ID0gc2VsZi5zY3JvbGxXcmFwcGVyLmNzcyhcImxlZnRcIik7XHJcbi8vICAgICAgICAgY3VycmVudExlZnQgPSBwYXJzZUludChjdXJyZW50TGVmdCk7XHJcbi8vICAgICAgICAgaWYoY3VycmVudExlZnQgPCAwKXtcclxuLy8gICAgICAgICAgICAgc2VsZi5zY3JvbGxXcmFwcGVyLmFuaW1hdGUoe1wibGVmdFwiOicwJ30pO1xyXG4vLyAgICAgICAgIH1lbHNle1xyXG4vLyAgICAgICAgICAgICBzZWxmLnNjcm9sbFdyYXBwZXIuYW5pbWF0ZSh7XCJsZWZ0XCI6XCItNDAwcHhcIn0pO1xyXG4vLyAgICAgICAgIH1cclxuLy8gICAgIH0pO1xyXG4vLyB9O1xyXG4vL1xyXG4vLyBBdXRoLnByb3RvdHlwZS5saXN0ZW5TaWduaW5FdmVudCA9IGZ1bmN0aW9uICgpIHtcclxuLy8gICAgIHZhciBzZWxmID0gdGhpcztcclxuLy8gICAgIHZhciBzaWduaW5Hcm91cCA9ICQoJy5zaWduaW4tZ3JvdXAnKTtcclxuLy8gICAgIHZhciB0ZWxlcGhvbmVJbnB1dCA9IHNpZ25pbkdyb3VwLmZpbmQoXCJpbnB1dFtuYW1lPSd0ZWxlcGhvbmUnXVwiKTtcclxuLy8gICAgIHZhciBwYXNzd29yZElucHV0ID0gc2lnbmluR3JvdXAuZmluZChcImlucHV0W25hbWU9J3Bhc3N3b3JkJ11cIik7XHJcbi8vICAgICB2YXIgcmVtZW1iZXJJbnB1dCA9IHNpZ25pbkdyb3VwLmZpbmQoXCJpbnB1dFtuYW1lPSdyZW1lbWJlciddXCIpO1xyXG4vL1xyXG4vLyAgICAgdmFyIHN1Ym1pdEJ0biA9IHNpZ25pbkdyb3VwLmZpbmQoXCIuc3VibWl0LWJ0blwiKTtcclxuLy8gICAgIHN1Ym1pdEJ0bi5jbGljayhmdW5jdGlvbiAoKSB7XHJcbi8vICAgICAgICAgdmFyIHRlbGVwaG9uZSA9IHRlbGVwaG9uZUlucHV0LnZhbCgpO1xyXG4vLyAgICAgICAgIHZhciBwYXNzd29yZCA9IHBhc3N3b3JkSW5wdXQudmFsKCk7XHJcbi8vICAgICAgICAgdmFyIHJlbWVtYmVyID0gcmVtZW1iZXJJbnB1dC5wcm9wKFwiY2hlY2tlZFwiKTtcclxuLy9cclxuLy8gICAgICAgICB4ZnphamF4LnBvc3Qoe1xyXG4vLyAgICAgICAgICAgICAndXJsJzogJy9hY2NvdW50L2xvZ2luLycsXHJcbi8vICAgICAgICAgICAgICdkYXRhJzoge1xyXG4vLyAgICAgICAgICAgICAgICAgJ3RlbGVwaG9uZSc6IHRlbGVwaG9uZSxcclxuLy8gICAgICAgICAgICAgICAgICdwYXNzd29yZCc6IHBhc3N3b3JkLFxyXG4vLyAgICAgICAgICAgICAgICAgJ3JlbWVtYmVyJzogcmVtZW1iZXI/MTowXHJcbi8vICAgICAgICAgICAgIH0sXHJcbi8vICAgICAgICAgICAgICdzdWNjZXNzJzogZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4vLyAgICAgICAgICAgICAgICAgaWYocmVzdWx0W1wiY29kZVwiXSA9PSAyMDApe1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIHNlbGYuaGlkZUV2ZW50KCk7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpO1xyXG4vLyAgICAgICAgICAgICAgICAgfWVsc2V7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgdmFyIG1lc3NhZ2VPYmplY3QgPSByZXN1bHRbJ21lc3NhZ2UnXTtcclxuLy8gICAgICAgICAgICAgICAgICAgICBpZih0eXBlb2YgbWVzc2FnZU9iamVjdCA9PSAnc3RyaW5nJyB8fCBtZXNzYWdlT2JqZWN0LmNvbnN0cnVjdG9yID09IFN0cmluZyl7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5tZXNzYWdlQm94LnNob3cobWVzc2FnZU9iamVjdCk7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgfWVsc2V7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHtcInBhc3N3b3JkXCI6Wyflr4bnoIHmnIDlpKfplb/luqbkuI3og73otoXov4cyMOS4uu+8gScsJ3h4eCddLFwidGVsZXBob25lXCI6Wyd4eCcsJ3gnXX1cclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgZm9yKHZhciBrZXkgaW4gbWVzc2FnZU9iamVjdCl7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbWVzc2FnZXMgPSBtZXNzYWdlT2JqZWN0W2tleV07XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbWVzc2FnZSA9IG1lc3NhZ2VzWzBdO1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93Lm1lc3NhZ2VCb3guc2hvdyhtZXNzYWdlKTtcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgfSxcclxuLy8gICAgICAgICAgICAgJ2ZhaWwnOiBmdW5jdGlvbiAoZXJyb3IpIHtcclxuLy8gICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuLy8gICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgIH0pO1xyXG4vLyAgICAgfSk7XHJcbi8vIH07XHJcbi8vXHJcbi8vICQoZnVuY3Rpb24gKCkge1xyXG4vLyAgICAgdmFyIGF1dGggPSBuZXcgQXV0aCgpO1xyXG4vLyAgICAgYXV0aC5ydW4oKTtcclxuLy8gfSk7XHJcbiJdfQ==
